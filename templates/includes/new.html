{{ define "title"}}
    <title>发表内容</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jquery.sumoselect/3.1.6/sumoselect.min.css"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.sumoselect/3.1.6/jquery.sumoselect.min.js"></script>
{{ end }}

{{define "content"}}
<div class="mt-2 flex flex-col gap2 text-sm">
    <div class="flex flex-row gap-2 mt-2">
        <div class="font-bold">类型</div>
        <div class="flex flex-row gap-2 items-center">
            <input type="radio" id="link"  name="type" value="link" checked  />
            <label for="link">链接</label>
            <input type="radio" id="ask" name="type" value="ask" />
            <label for="ask">提问</label>
        </div>
    </div>

    <div class="flex flex-row gap-2 items-center">
        <label for="linkUrl" class="font-bold">链接</label>
        <input type="text" id="linkUrl" class="input flex-1" />
    </div>

    <div class="flex flex-row gap-2 items-center">
        <label for="title" class="font-bold">标题</label>
        <input type="text" id="title" class="input flex-1" />
    </div>
    <div class="flex flex-row gap-2 items-center">
        <label for="tag" class="font-bold">标签</label>
        <select id="tag" multiple class="selectBox  input flex-1" multiple>
            <optgroup label="Swedish Cars">
                <option value="volvo">Volvo</option>
                <option value="saab">Saab</option>
            </optgroup>
            <optgroup label="German Cars">
                <option value="mercedes">Mercedes</option>
                <option value="audi">Audi</option>
            </optgroup>
        </select>
    </div>
    <div class="flex flex-row gap-2 items-center" id="content">
        <label for="title" class="font-bold">内容</label>
        <textarea
                name=""
                id=""
                cols="30"
                rows="10"
                class="input flex-1"
        ></textarea>
    </div>

    <div class="flex flex-row gap-2 items-center mt-2">
        <button class="btn py-2 px-4" id="submitNewPost">提交</button>
        <button class="cursor-pointer bg-white border-0 text-black rounded py-2 px-4">清空</button>
    </div>
</div>
<style>
    .SumoSelect{
        flex:1;
    }
</style>
<script>
    $(document).ready(function () {
        $('.selectBox').SumoSelect({
            placeholder:'请最少选择一个标签',
            search: true,
            searchText: '支持搜索',
            csvDispCount:5
        });

        $("#submitNewPost").click(()=>{
            console.log($("#tag").val())
        })

        $("input[type=radio]").click((e)=>{
            const the = $(e.target)
            console.log(the,the.val())
            if (the.val() === 'link'){
                $("#content").show()
            }else if (the.val() === 'ask'){
                $("#content").hide()
            }
        })
    });
</script>
{{end}}